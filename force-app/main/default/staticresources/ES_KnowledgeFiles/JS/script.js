function getUrlParameter(n){for(var u=decodeURIComponent(window.location.search.substring(1)),r=u.split("&"),t,i=0;i<r.length;i++)if(t=r[i].split("="),t[0]===n)return t[1]===undefined?!0:t[1]}function validate(){var n=0;if($(".checkout-form-body input, #1_webserverSoftwareID, #joiCountryName").each(function(){$(this).val()==""||$(this).val()==null?$(this).attr("required")&&($(this).closest(".field").addClass("validation-error"),n++):$(this).closest(".field").removeClass("validation-error")}),n>0)$(".checkout-form-body input, #1_webserverSoftwareID, #joiCountryName").on("change",function(){validate()});else $(".form-invalid").fadeOut("fast"),$("#checkout").removeAttr("disabled")}function buildDomainsDropdown(n){var i='<select title="Domains Select" id="domains">',t;for(t in n)$.isNumeric(t)||(i+="<option value='"+t+"'>"+friendlyNames[t]+"<\/option>");i+="<\/select>";$("#domainsPlaceholder").html(i);setTimeout(function(){$("#domains").trigger("change")},250)}function buildWarrantyDropdown(n){var i='<select title="Warranty Amount Select" id="warranty">',t;for(t in n)t>1e3&&(i+="<option value='"+t+"'>$"+parseInt(t).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")+" Warranty<\/option>");i+="<\/select>";$("#warrantiesPlaceholder").html(i);setTimeout(function(){$("#warranty").trigger("change")},250)}function buildTermsDropdown(n){var i='<select title="Certificate Length Select" id="terms">',t;for(t in n)$.isNumeric(t)||(i+="<option value='"+t+"'>"+friendlyNames[t]+"<\/option>");i+="<\/select>";$("#durationPlaceholder").html(i);setTimeout(function(){$("#terms").trigger("change")},250)}function wildcardIt(n){var t=n.substring(0,2);t!="*."&&$("#1_domainName").val("*."+n)}function slickHeight(){$(".slick-list").each(function(){$(this).css({height:"auto"});var n=0;$(this).find(".slick-slide").each(function(){fixForZoom()?$(this).height()>n&&(n=$(this).height()):$(this).outerHeight()>n&&(n=$(this).outerHeight())});$(this).height(n)})}var friendlyNames=[];friendlyNames.single="Single Domain";friendlyNames.wildcard="Wildcard";friendlyNames.multi="Multi Domain";friendlyNames["1year"]="1 Year";friendlyNames["2year"]="2 Year";friendlyNames["3year"]="3 Year";$(document).ready(function(){var a,u,t,f,v,e,o,r,s,h,n,c,i,l,p,w;if(setTimeout(function(){if($("#ui-datepicker-div").length)$(window).on("click",function(n){var t=$(n.target);t.hasClass("datetime-ui-state-default")&&$("#ui-datepicker-div .action-buttons .btn-primary").trigger("click")})},1e3),typeof Cookies!="undefined"&&(a=Cookies.get("ComodoAlertClosed"),a!="true")){window.setTimeout(function(){$(".global-alert").slideDown()},750);$(".global-alert a").on("click",function(){$(".global-alert").slideUp();Cookies.set("ComodoAlertClosed","true")})}if($(".home-hero-slick").length){u={dots:!0,arrows:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!1,autoplay:!0,autoplaySpeed:7e3};t=$(".home-hero-slick").slick(u);slickHeight();f=firstZoom;$(window).on("resize",function(){f!=getCurrentZoom()&&(f=getCurrentZoom(),testForReload(),t.slick("unslick"),t.slick(u),jQuery(window).trigger("resize").trigger("scroll"),t.slick("slickPrev"));slickHeight();t.slick("slickPrev")});$(".home-hero-slick").on("afterChange",function(){jQuery(window).trigger("resize").trigger("scroll")})}$(".tabs").length&&$(document).foundation();$("#main-menu > li").each(function(){if($(this).children().length>1){$(this).addClass("has-subnav");$(this).append('<span class="arrow mobile-only"><img alt="Right Arrow Icon" src="/ComodoCA/images/white-arrow-right.png" /><\/a><\/span>');var n=$(this).find("a").eq(0).text();$(this).find("ul").prepend('<li class="mobile-only subnav-title"><img alt="Left Arrow Icon" src="/ComodoCA/images/white-arrow-left.png" />'+n+"<\/a>")}$(this).children().first().text()=="IoT"&&$(this).children().first().addClass("no-case")});$(".hamburger").on("click",function(){$(".search-wrap").removeClass("open");$(this).closest(".main-nav").toggleClass("open")});$("#main-menu .arrow").on("click",function(){$("#main-menu li.has-subnav").removeClass("open");$(this).closest("li.has-subnav").addClass("open")});$("#main-menu .subnav-title").on("click",function(){$(this).closest("li.has-subnav").removeClass("open")});$(".search-wrap .search-icon, .search-wrap .search-box a.close").on("click",function(){$(".main-nav").removeClass("open");$(".search-wrap").toggleClass("open")});if($(".homepage-hero").length)$(".homepage-hero .down-arrow").on("click",function(){var n=$(".homepage-hero").outerHeight()+$("header").outerHeight();$("html, body").animate({scrollTop:n},1e3,"swing",function(){})});$(".chat-popup").on("click",function(){window.Helpdotcom.chat.maximize()});if($("#search-result-target").length&&$("#search-result-target").text($("#search-result-text").text()),$(".quick-buy").length&&$(window).width()>639&&(v=$(".quick-buy").offset().top,$(window).scroll(function(){var n=$(window).scrollTop();n>v?$("body").addClass("quick-buy-sticky").css({"padding-top":$(".quick-buy").outerHeight()+"px"}):$("body").removeClass("quick-buy-sticky").css({"padding-top":"0"})})),$(".contact-cta").length)$(".contact-cta").on("click",function(){var n=$(".form").first().offset().top;$("html, body").animate({scrollTop:n},1e3,"swing",function(){})});if($("input.update-name").length&&$("input.update-name").each(function(){$(this).attr("name",$(this).data("name"))}),$("#productTypeLegacy").length){r=$("#productTypeLegacy").val();n=parseInt($("#productId1y").val());n==249?$("#durationPlaceholder select").append("<option selected value='249'>90 Days<\/option>"):($("#durationPlaceholder select").append("<option selected value='"+n+"'>1 Year<\/option>"),e=$("#productId2y").val(),o=$("#productId3y").val(),e!=""&&$("#durationPlaceholder select").append("<option value='"+e+"'>2 Year<\/option>"),o!=""&&$("#durationPlaceholder select").append("<option value='"+o+"'>3 Year<\/option>"));setTimeout(function(){updatePrice(n)},3e3);$("#durationPlaceholder select").on("change",function(){var n=parseInt($(this).val()),t,i;$("#product").val(n);t=$(this).prop("selectedIndex");$("#term").val(t);i=$("#productOptions input").serializeArray();$(".buy-now").each(function(){$(this).attr("href","/account/?"+$.param(i))});updatePrice(n)})}if($("#productType").length){r=$("#productType").val();productGroup=products[r];buildDomainsDropdown(productGroup);$("#productOptions").on("change","#domains",function(){s=productGroup[$(this).val()];buildWarrantyDropdown(s);$(this).val()=="multi"?$("#multi").val("Y"):$("#multi").val("N");$("#type-icons .active").removeClass("active");$("#type-icons").find("[data-type="+$(this).val()+"]").parent("li").addClass("active")});$("#productOptions").on("change","#warranty",function(){h=s[$(this).val()];buildTermsDropdown(h)});$("#productOptions").on("change","#terms",function(){n=h[$(this).val()];$("#term").val($(this).val().charAt(0));$("#productId").val(n);var t=$("#productOptions input").serializeArray();$(".buy-now").each(function(){$(this).attr("href","/account/?"+$.param(t))});updatePrice(n)})}$("#type-icons a").on("click",function(){$("#type-icons .active").removeClass("active");$(this).parent("li").addClass("active");var n=$(this).data("type");n=="code-signing"?$(".buy-now").each(function(){$(this).attr("href",$("#code-signing-url").val())}):n=="code-signing-ev"?$(".buy-now").each(function(){$(this).attr("href",$("#ev-code-signing-url").val())}):($("#domains").val(n).trigger("change"),updatePrice($("#productId").val()))});if($(".checkout-form-body").length){if($("#free-trial").length)$("#free-trial").on("change",function(){$(this).prop("checked")==!1?$('input[name="OFFERCODES"]').data("value",$('input[name="OFFERCODES"]').val()).val(""):$('input[name="OFFERCODES"]').val($('input[name="OFFERCODES"]').data("value"))});if($("#countryName").length){c=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];$("#countryName").on("change",function(){$(this).val()=="US"?$("#stateOrProvinceLabel").text("State"):$("#stateOrProvinceLabel").text("State or Province");$.inArray($(this).val(),c)!==-1?$("#vatContainer").show():$("#vatContainer").hide()});setTimeout(function(){var n=$("#countryName").val();n=="US"?$("#stateOrProvinceLabel").text("State"):$("#stateOrProvinceLabel").text("State or Province");$.inArray(n,c)!==-1?$("#vatContainer").show():$("#vatContainer").hide()},1500)}if($("input, select").each(function(){if($(this).attr("type")!="password"&&$(this).attr("type")!="hidden"){var n="inputval-"+$(this).attr("id"),t=localStorage.getItem(n);t&&$(this).val(t);$(this).on("change",function(){localStorage.setItem(n,$(this).val())})}}),i=getUrlParameter("errorItem"),l=getUrlParameter("errorCode"),i=="1_webserverSoftwareID"){$("#1_webserverSoftwareID").closest(".field").addClass("validation-error");$("#1_webserverSoftwareID").on("change",function(){validate()})}l=="-5"&&$("#1_domainName").closest(".field").addClass("validation-error").find(".form-error").text("Please enter a valid domain i.e. comodoca.com or *.comodoca.com (for wildcard certificates).");l=="-14"&&$(".unknown-error").slideDown();var y="https://secure.comodo.net/products/",b="!PlaceOrder",k="checkLoginDetails",n=parseInt(getUrlParameter("product"));if($.inArray(n,[410,411,412,46,47,48,393,394,395,14,15,16,99,100,101])!==-1&&$("#1_domainName").length)if($("#1_domainName").val()=="")$("#1_domainName").val("*.");else{wildcardIt($("#1_domainName").val());$("#1_domainName").on("keyup",function(){wildcardIt($("#1_domainName").val())})}if($(".returning-customer-form").length)$("#retLoginPassword").on("blur",function(){var n,t,i;$("#checkout").attr("disabled","disabled");n=$("#retLoginName").val()!=""?$("#retLoginName").val():"";t=$("#retLoginPassword").val()!=""?$("#retLoginPassword").val():"";n!=""&&t!=""?(i=y+k+"?loginName="+n+"&loginPassword="+t,$.get(i,function(n){n=="OK"?($("#retLoginName").closest(".field").removeClass("validation-error"),$("#retLoginPassword").closest(".field").removeClass("validation-error"),$("#checkout").removeAttr("disabled")):($("#retLoginName").closest(".field").addClass("validation-error").find(".form-error").text("Invalid username or password."),$("#retLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Invalid username or password."))})):(n==""&&$("#retLoginName").closest(".field").addClass("validation-error").find(".form-error").text("Username is required."),t==""&&$("#retLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Username is required."))});if($(".new-customer").length){i=="loginName"&&$("#newLoginName").closest(".field").addClass("validation-error").find(".form-error").text("That username is already taken.");i=="loginPassword"&&$("#newLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Passwords must be 8 characters long and contain upper and lower case characters and at least one number and cannot contain your username.");i=="address";$("#newLoginPassword").on("blur",function(){if($(this).val().length<8)$("#newLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Password must be at least 8 characters.");else{$("#newLoginPassword").closest(".field").removeClass("validation-error");var n=new RegExp("[A-Z]"),t=new RegExp("[a-z]"),i=new RegExp("[0-9]");$(this).val().match(n)?$("#newLoginPassword").closest(".field").removeClass("validation-error"):$("#newLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Password must have at least one uppercase character.");$(this).val().match(t)?$("#newLoginPassword").closest(".field").removeClass("validation-error"):$("#newLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Password must have at least one one character.");$(this).val().match(i)?$("#newLoginPassword").closest(".field").removeClass("validation-error"):$("#newLoginPassword").closest(".field").addClass("validation-error").find(".form-error").text("Password must have at least one number.")}});$("#newLoginPassword2").on("blur",function(){var n=$("#newLoginPassword").val();n!=""?(n.length>=8&&$("#newLoginPassword").closest(".field").removeClass("validation-error"),n!=$(this).val()?$(this).closest(".field").addClass("validation-error"):$(this).closest(".field").removeClass("validation-error")):$("#newLoginPassword").closest(".field").addClass("validation-error")})}$("#checkout").on("click",function(n){if($(this).closest("form")[0].checkValidity()){if(n.preventDefault(),validate(),$(".checkout-form-body .validation-error").length){$("#checkout").attr("disabled","disabled");$(this).parent().prepend('<p class="form-invalid text-center">Please correct form errors<\/p>');$(".checkout-form-body input, #1_webserverSoftwareID, #joiCountryName").on("change",function(){validate()});return}var t=$(".checkout-form-body input, .checkout-form-body select").serializeArray(),i=y+b+"?"+$.param(t);window.location.href=i}})}$(".landing-hero-wrap").length&&(p=parseInt($(".landing-hero-wrap .landing-hero").css("padding-top")),w=$(".landing-hero-wrap .landing-hero").outerHeight()-p,$(".landing-hero-wrap .landing-form .large-5 > div").css({top:"-"+w+"px"}),$(window).resize(function(){var n=parseInt($(".landing-hero-wrap .landing-hero").css("padding-top")),t=$(".landing-hero-wrap .landing-hero").outerHeight()-n;$(".landing-hero-wrap .landing-form .large-5 > div").css({top:"-"+t+"px"})}))})